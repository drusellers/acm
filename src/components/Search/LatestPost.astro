---
import {getCollection, render} from "astro:content";
export async function getLatestPost() {
  const posts = await getCollection('posts', ({ data }) => data.published === true);

  posts.sort((a, b) => {
    return new Date(b.data.publishedOn).getTime() - new Date(a.data.publishedOn).getTime();
  });

  return posts[0];
}

const latest = await getLatestPost()
if (!latest) {
  return null;
}
const { Content } = await render(latest);
---
<div class="flex flex-col">
    <div class="text-xs italic">{ latest.data.excerpt.eyebrow}</div>
    <div class="text-lg font-bold">
      <a href={`/posts/${latest.id}`}>
        { latest.data.excerpt.title}
      </a>

    </div>
    <div class="text-md">{ latest.data.excerpt.tease}</div>
</div>